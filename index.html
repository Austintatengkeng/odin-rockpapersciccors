<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        const getComputerChoice = () => {
            let randNum = Math.floor(Math.random() * 3);
            switch(randNum) {
                case 0:
                    return 'rock';
                case 1:
                    return 'paper';
                case 2:
                    return 'scissors'; // Fix typo from 'sciccors'
            }
        }

        const getUserChoice = () => {
            let userChoice;
            do {
                userChoice = window.prompt("Rock, Paper, Scissors?");
                
                // Check if user pressed Cancel
                if (userChoice === null) {
                    alert("You canceled the game.");
                    return null; // Exit the function if user cancels
                }

                userChoice = userChoice.toLowerCase();
            } while(userChoice !== "rock" && userChoice !== "paper" && userChoice !== "scissors")

            return userChoice;
        }

        const playRound = (userSelect, computerSelect) => {
            if(userSelect === computerSelect) {
                console.log("It's a tie");
            } else if (
                (userSelect === 'rock' && computerSelect === 'scissors') ||
                (userSelect === 'paper' && computerSelect === 'rock') ||
                (userSelect === 'scissors' && computerSelect === 'paper')
            ) {
                console.log("YOU WIN!!");
            } else {
                console.log("YOU LOSE");
            }
        }

        let index = 0; 
        while(index < 5) {
            let computerSelection = getComputerChoice();
            let userSelection = getUserChoice();

            // If the user cancels, break the loop
            if (userSelection === null) {
                break;
            }

            playRound(userSelection, computerSelection);
            index++;
        }
    </script>
</body>
</html>
